---
title: 计算机视觉入门必备工具
top: false
cover: false
toc: true
mathjax: false
comments: true
lang: zh-CN
summary: 介绍如何利用 Git 与 GitHub 获取计算机视觉项目。
tags:
  - git
  - github
  - git submodule
categories: 教程
abbrlink: ad2d8036
date: 2019-09-14 10:40:44
updated:
password:
---

随着 GPU 和大量优质数据的出现，深度学习技术在计算机视觉任务中扮演着越来越重要的角色。深度学习技术的端到端的模式大大简化了特征工程的工作量，为提取更加有效的特征提供了一个泛化性更强的工具。故而，学习深度学习技术是计算机视觉任务的不二之选。

一般地，学习深度学习技术需要具备以下能力：

- 编程语言：当前，大多数深度学习框架均以 Python 为主流编程语言。您可以阅读 Python 官方教程：[中文 Python](https://docs.python.org/zh-cn/3/)。
- 版本控制：一个深度学习项目不是一天建成，需要不断的调试和修复，因而学习**版本控制**是十分重要的任务。本文仅仅介绍 Git。
- 解读和使用优质的 GitHub 资源：如果所有的项目都从零开始构建是完全没有必要的，将项目建立在优秀的 GitHub 项目的基础上，继续开发，将会为您节省大量的时间和经历。本文将详细介绍如何使用 GitHub 资源。

## 1 Git 基础

![git 速查表](http://justinhileman.info/article/git-pretty/git-pretty.png)

Git 学习资源：

- [Git 基础：Pro Git](https://git-scm.com/book/zh/v2)
- [Git 进阶](https://git-scm.com/doc/ext)
- PDF 版命令手册：[github-git-cheat-sheet.pdf](https://github.github.com/training-kit/downloads/github-git-cheat-sheet.pdf)
- Git 完整命令手册地址：[http://git-scm.com/docs](http://git-scm.com/docs)
- [图解 Git](http://marklodato.github.io/visual-git-guide/index-zh-cn.html)

所谓的**版本控制**，就是用来记录文件内容的变动，方便未来查询和恢复文件的内容修订的一种系统。您完全不用担心把文件玩坏，因为版本控制已经帮你准备好了时光机器，借由版本控制您可以追溯文件的前世、今生以及未来，文件的时间轴完全由您掌控。版本控制的工具有很多，但是，我比较倾向于 Git。因为 Git 是**分布式的**，即使服务器上的版本库坏掉了，您也可以从其他非服务器的电脑上进行版本更新。

> 并不只提取最新版本的文件快照，而是把代码仓库完整地镜像下来。 这么一来，任何一处协同工作用的服务器发生故障，事后都可以用任何一个镜像出来的本地仓库恢复。 因为每一次的克隆操作，实际上都是一次对代码仓库的完整备份。—— 《Git Pro》

Git 数据库中保存的信息都是以**文件内容的哈希值**来索引，而不是文件名。Git 有三种状态：已提交（committed）、已修改（modified）和已暂存（staged）。

- **已提交**表示数据已经安全的保存在本地**Git 仓库目录**（即 `.git` 目录，*是 Git 用来保存项目的元数据和对象数据库的地方。 供其它计算机克拷贝的数据。*）中。
- **已修改**表示修改了文件，但还没保存到**Git 仓库目录**中。
- **已暂存**表示在**工作目录**（即您磁盘上存储的你看到的数据）对一个已修改文件的当前版本做了标记（即记录在 `.git/index` 中，一般地，将其称为**暂存区域**），使之包含在下次提交的快照中。

### 1.1 配置用户信息

一般情况下，安装好 Git 之后需要您配置用户信息，用于记录提交者的信息。

```sh
$ git config --global user.name 用户名
$ git config --global user.email 邮箱
```

配置好了用户信息，之后您便可以使用 Git 了。如果您不知道某一个命令如何使用，您可以使用 `git help` 来获取帮助，比如：

```sh
$ git help config
```

您便轻松的获取 `git config` 的离线帮助文档。

### 1.2 创建并操作一个本地仓库

创建一个本地仓库，只需要您在工作目录下使用命令 `git init` 即可。此命令会在工作目录的根目录下创建 `.git` 目录，即本地的 Git 仓库。但是，此时，您的 Git 本地仓库是空的，我们需要将工作目录中的文件加入 Git 的跟踪：

![git init](init.png)

命令 `git add .` 将工作目录的所有文件由未跟踪状态转换为跟踪状态，并存储在暂存区。如果您仅仅只需要跟踪 `A.md`，那么您可以这样：

```sh
$ git add A.md
```

vscode（一个十分强大的编辑器） 可以显示追踪的状态：

![git add](add.png)

为了查看文件存储的状态，您可以使用 `git staus -s`：

![git status](modify.png)

`git status` 仅仅可以看出文件级别的不同状态，而如果您想要获悉文件的内容之间的不同，可以使用 `git diff` 获取工作目录中当前文件和暂存区域快照之间的差异：

![git diff](diff.png)

`git diff` 本身只显示尚未暂存的改动，而不是自上次提交以来所做的所有改动，若要查看已暂存的将要添加到下次提交里的内容，可以用 `git diff --staged` 命令。

您总会有一些文件不希望被 Git 追踪（比如一些机密文件），此时您可以创建文件 `.gitignore` 并将那些不希望被追踪的文件名称写入到 `.gitignore` 中（在 <https://github.com/github/gitignore> 中提供了一些 `.gitignore` 模板可供参考）。文件 `.gitignore` 的格式规范如下：

- 所有空行或者以 `#` 开头的行都会被 Git 忽略。
- 可以使用标准的 glob 模式匹配。
- 以（`/`）开头防止递归。
- 以（`/`）结尾指定目录。
- 惊叹号（`!`）取反要忽略指定模式以外的文件或目录。

当您通过 `git status` 查看文件的状态为均已经暂存时，您便可以使用 `git commit -m "提交的信息"` 命令将文件的变动提交到仓库了。提交时记录的是放在暂存区域的快照，并以 SHA-1 校验码进行标识方便之后的版本转换。

```mermaid
graph LR
A(History) --git reset -- files--> B(Staged)
B --git checkout -- files--> C(Working Directory)
B --git commit -m --> A
C --git add files--> B
C --git commit -a -m --> A
A --git checkout HEAD -- files--> C
```
